/*
 * exit-app v1.0.1
 * (c) 2017 Zhang Yu
 * @license MIT
 */
!function(i,t){var e=i.navigator.userAgent,n=-1!==e.indexOf("MicroMessenger"),s=-1!==e.indexOf("AlipayClient");i.history.pushState({},"title",""),i.addEventListener("popstate",function(){var e;i.sessionStorage.getItem("$exitApp")?(e=function(){n?WeixinJSBridge.call("closeWindow"):s&&AlipayJSBridge.call("exitApp")},n?i.WeixinJSBridge?e&&e():t.addEventListener("WeixinJSBridgeReady",e,!1):s&&(i.AlipayJSBridge?e&&e():t.addEventListener("AlipayJSBridgeReady",e,!1))):i.sessionStorage.setItem("$exitApp",!0)}),i.addEventListener("pageshow",function(){i.setTimeout(function(){i.sessionStorage.setItem("$exitApp",!0)})}),i.addEventListener("pagehide",function(){i.sessionStorage.removeItem("$exitApp")})}(window,document);